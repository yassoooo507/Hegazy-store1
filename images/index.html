<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <title>Hegazy store</title>
    <style>
        #auth-section {
    max-width: 400px;
    margin: 50px auto;
    background: #fff;
    padding: 20px;
    border: 2px dashed #444;
    border-radius: 12px;
    box-shadow: 3px 3px 0px #ccc;
}
        * { box-sizing: border-box; }
            body {
    font-family: 'Arial', sans-serif;
    background-color: #f4f4f4;
    margin: 0;
    padding: 0;
}
.container {
    max-width: 100%;
    padding: 20px;
    margin: 0 auto;
}

h2 {
    color: #333;
    text-align: center;
    font-size: 24px;
    margin-bottom: 20px;
}

         h3 {
            text-align: center;
            color: #2b2b2b;
            font-size: 2.2em;
        }
        form {
            max-width: 400px;
            margin: 20px auto;
            background: #fff;
            padding: 25px;
            border: 2px dashed #444;
            border-radius: 12px;
            box-shadow: 3px 3px 0px #ccc;
        }
        input, .search-bar, select {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #aaa;
            border-radius: 5px;
            background-color: #fdfdfd;
            font-family: 'Handjet', cursive;
            font-size: 1.2em;
        }
        button {
    width: 100%;
    padding: 15px;
    background-color: #4CAF50;
    border: none;
    color: rgb(8, 8, 8);
    font-size: 18px;
    cursor: pointer;
    margin-top: 20px;
    border-radius: 5px;
}

button:hover {
    background-color: #45a049;
}
        .link {
            text-align: center;
            margin-top: 10px;
            font-size: 1.2em;
        }
        .link a {
            color: #007bff;
            text-decoration: underline;
        }
        .hidden {
            display: none;
        }
        .product {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin: 10px;
    background-color: white;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    border-radius: 10px;
    overflow: hidden;
    padding: 10px;
}

.product img {
    width: 100%;
    height: auto;
    border-radius: 8px;
}

.product-info {
    text-align: center;
    margin-top: 10px;
}

        .product img:hover {
    transform: scale(1.05);
}
        .filters {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }
        .products {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }
        .add-to-cart {
            margin-top: 10px;
            background: #fff3f300;
        }
        .cart-section {
            margin-top: 30px;
            background: #fff;
            padding: 20px;
            border: 2px dashed #888;
            border-radius: 10px;
            box-shadow: 3px 3px 0 #ccc;
        }
        .cart-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 1.3em;
        }
        .logout-btn {
            margin-top: 20px;
            background: #e53935;
        }
        #checkout-form {
            background: #fff;
            border: 2px dashed #444;
            padding: 20px;
            margin-top: 20px;
            border-radius: 10px;
            box-shadow: 2px 2px 0 #ccc;
        }
        .tracking-page {
            padding: 30px;
            background: #fff;
            border: 2px dashed #999;
            border-radius: 12px;
            box-shadow: 3px 3px 0 #ccc;
            max-width: 500px;
            margin: 40px auto;
            text-align: center;
        }
        .cart-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .cart-controls button {
            padding: 5px 10px;
            font-size: 1em;
        }
        @media (max-width: 768px) {
    .container {
        padding: 10px;
    }

    h2, h3 {
        font-size: 20px;
    }
    button {
        font-size: 16px;
    }

    form {
        padding: 15px;
        margin: 10px auto;
    }

    input, .search-bar, select, button {
        font-size: 1em;
        padding: 8px;
    }

    .filters {
        flex-direction: column;
        gap: 8px;
    }

    .products {
        flex-direction: column;
        align-items: center;
    }

    .product {
        width: 100%;
        max-width: 320px;
        padding: 10px;
    }

    .cart-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 5px;
    }

    .cart-controls {
        justify-content: flex-start;
    }

    #checkout-form {
        padding: 15px;
    }

    .tracking-page {
        padding: 20px;
        margin: 20px auto;
        font-size: 1em;
    }

    .cart-section button,
    .logout-btn,
    .add-to-cart {
        width: 100%;
    }
}
    </style>
</head>
<body>
    <div id="auth-section">
        <form id="signupForm">
            <h3>üÜï Sign Up</h3>
            <input type="text" id="signupUsername" placeholder="Username" required>
            <input type="password" id="signupPassword" placeholder="Password" required>
            <button type="submit">Sign Up</button>
        </form>
    
        <form id="loginForm" style="margin-top: 20px;">
            <h3>üîê Sign In</h3>
            <input type="text" id="loginUsername" placeholder="Username" required>
            <input type="password" id="loginPassword" placeholder="Password" required>
            <button type="submit">Sign In</button>
        </form>
    </div>    
<div class="container">
    <div id="user-bar" class="hidden" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <div>
            üëã Welcome, <span id="current-username" style="font-weight: bold;"></span>
        </div>
        <div>
            <button onclick="goToProfile()">üë§ Profile</button>
            <button onclick="logout()" class="logout-btn">üö™ Logout</button>
        </div>
    </div>    
    <div id="shop-section">
        <h2>üõçÔ∏è Hegazy Shop</h2>
        <div class="filters">
            <input type="text" class="search-bar" id="searchInput" placeholder="üîç Search for products..." onkeyup="filterProducts()">
            <select id="typeFilter" onchange="filterProducts()">
                <option value="">All Types</option>
                <option value="men">ÿ±ÿ¨ÿßŸÑŸä</option>
                <option value="women">ÿ≠ÿ±ŸäŸÖŸä</option>
            </select>
            <select id="priceFilter" onchange="filterProducts()">
                <option value="">All Prices</option>
                <option value="2000">ÿ£ŸÇŸÑ ŸÖŸÜ 2000</option>
                <option value="3000">ÿ£ŸÇŸÑ ŸÖŸÜ 3000</option>
                <option value="4000">ÿ£ŸÇŸÑ ŸÖŸÜ 4000</option>
            </select>
        </div>
        <div class="products" id="products"></div>
        <div class="cart-section">
            <h3>üõí Your Cart</h3>
            <div id="cart-items"></div>
            <p id="total"></p>
            <button onclick="checkout()">Checkout</button>
            <div id="checkout-form" class="hidden">
                <h3>Enter Payment Details</h3>
                <select id="shoeSize">
                    <option value="">Select Shoe Size</option>
                    <option>38</option>
                    <option>39</option>
                    <option>40</option>
                    <option>41</option>
                    <option>42</option>
                    <option>43</option>
                    <option>44</option>
                </select>
                <input type="text" id="cardName" placeholder="Name on Card">
                <input type="text" id="cardNumber" placeholder="Card Number">
                <input type="text" id="expDate" placeholder="MM/YY">
                <input type="text" id="cvv" placeholder="CVV">
                <button onclick="payNow()">Pay</button>
            </div>
        </div>
    </div>
    <div id="tracking-section" class="tracking-page hidden">
        <div id="profile-section" class="hidden">
            <div class="tracking-page">
                <div id="profile-section" class="hidden">
                    <div class="tracking-page">
                        <h2>üë§ User Profile</h2>
                        <img id="profile-image" src="" alt="Profile Image" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover; margin-bottom: 10px;">
                        <input type="file" id="imageUpload" accept="image/*" onchange="uploadProfileImage()">
                        <p>Username: <strong id="profile-username"></strong></p>
                
                        <h4>üîê Change Password</h4>
                        <input type="password" id="oldPassword" placeholder="Old Password">
                        <input type="password" id="newPassword" placeholder="New Password">
                        <button onclick="changePassword()">Change Password</button>
                
                        <h4>üßæ Your Orders</h4>
                        <ul id="order-history"></ul>
                
                        <button onclick="backToShop()">üîô Back to Shop</button>
                    </div>
                </div>                
            </div>
        </div>        
        <h2>üì¶ Order Tracking</h2>
        <p>‚úÖ Your order has been confirmed!</p>
        <p>üöö Estimated Delivery: <strong>2 Days</strong></p>
        <p>üîÅ You will receive updates by email.</p>
        <button onclick="backToShop()">Back to Shop</button>
    </div>
</div>
<script>
const products = [
    { name: "nike sb", price: 2899, image: "images/download (1).jpeg", type: "women" },
    { name: "panda sb", price: 3199, image: "images/download (2).jpeg", type: "men" },
    { name: "nba jordan", price: 4990, image: "images/download (3).jpeg", type: "women" },
    { name: "tn", price: 4000, image: "images/download (4).jpeg", type: "men" },
    { name: "Adidas Samba OG", price: 3199, image: "images/download (5).jpeg", type: "men" },
    { name: "Adidas run", price: 2500, image: "images/download (6).jpeg", type: "men" },
    { name: "nike run", price: 5000, image: "images/download.jpeg", type: "men" },
    { name: "north face", price: 10199, image: "images/images (11).jpeg", type: "men" },
    { name: "rebook", price: 3190, image: "images/images (10).jpeg", type: "men" },
    { name: "rebook", price: 4000, image: "images/images (9).jpeg", type: "men" },
    { name: "air force", price: 8000, image: "images/images (8).jpeg", type: "men" },
    { name: "Adidas run", price: 3199, image: "images/download (10).jpeg", type: "men" },
    { name: "alexendr mq", price: 5000, image: "images/download (9).jpeg", type: "men" },
    { name: "Acis", price: 3000, image: "images/download (8).jpeg", type: "men" },
    { name: "Adidas OG", price: 3189, image: "images/download (7).jpeg", type: "men" },
    { name: "Adidas OG", price: 3189, image: "images/download7.jpeg", type: "men" },
    { name: "nike green vr", price: 15000, image: "images/images (1).jpeg", type: "men" },
    { name: "Adidas Samba OG", price: 3199, image: "images/images (2).jpeg", type: "men" },
    { name: "Adidas", price: 4199, image: "images/images (3).jpeg", type: "men" },
    { name: "Hoka", price: 3999, image: "images/images (4).jpeg", type: "men" },
    { name: "dolce", price: 3193, image: "images/images (5).jpeg", type: "men" },
    { name: "Adidas", price: 10000, image: "images/images (6).jpeg", type: "men" },
    { name: "tn lilnas virsion", price: 25199, image: "images/images (7).jpeg", type: "men" },

];

const user = "demo-user";
const cartKey = `cart_${user}`;

function renderProducts(filter = "") {
    const typeFilter = document.getElementById("typeFilter").value;
    const priceFilter = document.getElementById("priceFilter").value;

    const productsDiv = document.getElementById("products");
    productsDiv.innerHTML = "";
    products
        .filter(p =>
            p.name.toLowerCase().includes(filter.toLowerCase()) &&
            (!typeFilter || p.type === typeFilter) &&
            (!priceFilter || p.price <= parseInt(priceFilter))
        )
        .forEach(product => {
            const div = document.createElement("div");
            div.className = "product";
            div.innerHTML = `
                <img src="${product.image}" alt="${product.name}">
                <h4>${product.name}</h4>
                <p>${product.price} EGP</p>
                <button class="add-to-cart" onclick='addToCart(${JSON.stringify(product)})'>Add to Cart</button>
            `;
            productsDiv.appendChild(div);
        });
}

function filterProducts() {
    const input = document.getElementById("searchInput").value;
    renderProducts(input);
}

function addToCart(product) {
    const cart = JSON.parse(localStorage.getItem(cartKey) || "[]");
    cart.push(product);
    localStorage.setItem(cartKey, JSON.stringify(cart));
    renderCart();
}

function removeFromCart(index) {
    const cart = JSON.parse(localStorage.getItem(cartKey) || "[]");
    cart.splice(index, 1);
    localStorage.setItem(cartKey, JSON.stringify(cart));
    renderCart();
}

function renderCart() {
    const cart = JSON.parse(localStorage.getItem(cartKey) || "[]");
    const cartItems = document.getElementById("cart-items");
    const totalEl = document.getElementById("total");
    cartItems.innerHTML = "";
    let total = 0;
    cart.forEach((item, index) => {
        total += item.price;
        const div = document.createElement("div");
        div.className = "cart-item";
        div.innerHTML = `
            <span>${item.name} - ${item.price} EGP</span>
            <div class="cart-controls">
                <button onclick="removeFromCart(${index})">Remove</button>
            </div>
        `;
        cartItems.appendChild(div);
    });
    totalEl.textContent = "Total: " + total + " EGP";
}

function checkout() {
    document.getElementById("checkout-form").classList.remove("hidden");
}

function payNow() {
    alert("Payment Successful üéâ Thank you for your order!");
    localStorage.removeItem(cartKey);
    document.getElementById("shop-section").classList.add("hidden");
    document.getElementById("tracking-section").classList.remove("hidden");
}

function backToShop() {
    document.getElementById("tracking-section").classList.add("hidden");
    document.getElementById("shop-section").classList.remove("hidden");
    renderCart();
}

renderProducts();
renderCart();
const userKey = "hegazy_users";
const loggedUserKey = "hegazy_logged_in";

// ÿπŸÜÿØ ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ
document.getElementById("signupForm").addEventListener("submit", function (e) {
    e.preventDefault();
    const username = document.getElementById("signupUsername").value.trim();
    const password = document.getElementById("signupPassword").value.trim();

    if (username && password) {
        let users = JSON.parse(localStorage.getItem(userKey) || "{}");
        if (users[username]) {
            alert("Username already exists.");
        } else {
            users[username] = password;
            localStorage.setItem(userKey, JSON.stringify(users));
            alert("Account created! You can now sign in.");
            document.getElementById("signupForm").reset();
        }
    }
});

// ÿπŸÜÿØ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ
document.getElementById("loginForm").addEventListener("submit", function (e) {
    e.preventDefault();
    const username = document.getElementById("loginUsername").value.trim();
    const password = document.getElementById("loginPassword").value.trim();

    let users = JSON.parse(localStorage.getItem(userKey) || "{}");
    if (users[username] && users[username] === password) {
        localStorage.setItem(loggedUserKey, username);
        document.getElementById("auth-section").classList.add("hidden");
        document.getElementById("shop-section").classList.remove("hidden");
        renderCart();
    } else {
        alert("Invalid username or password.");
    }
});

// ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨
function logout() {
    localStorage.removeItem(loggedUserKey);
    localStorage.removeItem(`cart_${getCurrentUser()}`);
    location.reload();
}

// ÿßÿ≥ÿ™ÿØÿπÿßÿ° ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ≠ÿßŸÑŸä
function getCurrentUser() {
    return localStorage.getItem(loggedUserKey);
}

window.onload = () => {
    const currentUser = getCurrentUser();
    if (currentUser) {
        document.getElementById("auth-section").classList.add("hidden");
        document.getElementById("shop-section").classList.remove("hidden");
        document.getElementById("user-bar").classList.remove("hidden");
        document.getElementById("current-username").textContent = currentUser;
        renderCart();
    } else {
        document.getElementById("auth-section").classList.remove("hidden");
        document.getElementById("shop-section").classList.add("hidden");
        document.getElementById("user-bar").classList.add("hidden");
    }
};
function getCartKey() {
    return `cart_${getCurrentUser()}`;
}
function goToProfile() {
    document.getElementById("shop-section").classList.add("hidden");
    document.getElementById("tracking-section").classList.add("hidden");
    document.getElementById("profile-section").classList.remove("hidden");

    const currentUser = getCurrentUser();
    document.getElementById("profile-username").textContent = currentUser;
}

function logout() {
    localStorage.removeItem(loggedUserKey);
    localStorage.removeItem(`cart_${getCurrentUser()}`);
    location.reload();
}

function backToShop() {
    document.getElementById("profile-section").classList.add("hidden");
    document.getElementById("tracking-section").classList.add("hidden");
    document.getElementById("shop-section").classList.remove("hidden");
    renderCart();
}

</script>
</body>
</html>